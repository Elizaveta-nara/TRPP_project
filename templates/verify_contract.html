{% extends 'base.html' %}

{% block content %}
<h1>Проверка подписи контракта</h1>

<!-- Отображение сообщений flash -->
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="mt-3">
      {% for category, message in messages %}
        <div class="alert alert-{{ category }}">{{ message }}</div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

<form method="POST">
    {{ form.hidden_tag() }}
    <div class="mb-3">
        <label for="repair_id" class="form-label">{{ form.repair_id.label }}</label>
        {{ form.repair_id(class="form-control") }}
    </div>
    <div class="mb-3">
        <label for="public_key" class="form-label">{{ form.public_key.label }}</label>
        {{ form.public_key(class="form-control", rows="5") }}
    </div>
    <button type="submit" class="btn btn-primary">{{ form.submit.label }}</button>
</form>

{% if result %}
<div class="mt-3 alert alert-info">
    <strong>Результат проверки:</strong> {{ result }}
</div>
{% endif %}
{% endblock %}